<?xml version="1.0" encoding="UTF-8"?>
<changes>
    <spec name="XP30">
        <change id="named-function-ref">Named function references</change>
        <change id="inline-function" owner="John Snelson">Inline function expressions</change>
        <change id="dynamic-function-call" owner="Mary Holstege">Dynamic function calls</change>
        <change id="function-item-coercion" owner="John Snelson">Function item coercion</change>
        <change id="partial-function-application" owner="Mary Holstege">Partial function application</change>
        <change id="sequence-type-relationships" owner="Jonathan Robie">Sequence type subtype relationships moved from Formal Semantics</change>
        <change id="type-derivation-with-unions" ref="bug7749" owner="Mike Kay">Type derivation involving union types</change>
        <change id="let-in-xpath">Let expressions now in XPath</change>
        <change id="eqnames">EQNames</change>
        <change id="wildcard-uri-literals" owner="Mike Kay">Wildcard syntax Q{uri}*</change>
        <change id="xsd11">XSD 1.1 support</change>
        <change id="union-as-sequence-type" owner="Mike Kay">Union types as Sequence Type</change>
        <change id="reserved-namespaces" ref="bug10700" owner="Jonathan Robie">Consistency constraints on reserved namespaces</change>
        <change id="substitution-groups" ref="bug10065 bug10207" owner="Mike Kay">Abstract and blocked elements in substitution groups</change>
        <change id="concat-operator">String concatenation operator ('||')</change>
        <change id="bang-operator">Simple mapping operator ('!')</change>
        <change id="cast-to-qname-errors" ref="bug11964" owner="Ghislain Fourny">Error codes for errors casting to namespace-sensitive types</change>
    </spec>
    <spec name="XQ30">
        <change id="group-by" owner="Andy Coleman">"group by" in FLWOR expression</change>
        <change id="windows">Tumbling and sliding windows</change>
        <change id="count-clause">Count clause in FLWOR expression</change>
        <change id="allowing-empty">"allowing empty" in FLWOR expressin</change>
        <change id="try-catch">Try/Catch</change>
        <change id="private-functions">Private functions</change>
        <change id="private-variables">Private variables</change>
        <change id="switch">Switch expression</change>
        <change id="computed-namespace">Computed namespace constructors</change>
        <change id="output-decl">Output declarations and serialization parameter files</change>
        <change id="annotations">Function and variable annotations</change>
        <change id="flwor-generalization"  owner="Andy Coleman">Removed restrictions on FLWOR expressions, eg multiple where clauses</change>
        <change id="validate-by-type" owner="Mary Holstege">Validate by type</change>
        <change id="default-external-var">Default values for external variables</change>
        <change id="context-item-decl">Context item declaration</change>
        <change id="version-decl-30">Version declaration specifies XQuery 3.0</change>
        <change id="decimal-decl" owner="Michael Dyck">Decimal format declarations</change>
        <change id="annotation-assertions">Annotation assertions in function tests</change>
        <change id="validation-notation" owner="Mary Holstege">Validation checks that NOTATION values are declared</change>
        <change id="module-cycles" owner="Matthias Brantner">Cycles in module import are not prohibited provided functions and variables have no circular dependencies</change>
        <change id="error-XQST0118">Error code XQST0118 for start tag / end tag mismatch</change>
        <!-- <change id="require-and-prohibit-feature" owner="Ghislain Fourny">Declarations to indicate required and prohibited features</change> -->
        <change id="typeswitch-union-cases">Typeswitch cases can now name a set of types</change>
        <change id="forwards-references">Forwards references to global variables are allowed</change>
        <change id="declaration-cycles">Cycles among global variables are now detected as a dynamic error</change>
    </spec>
    <spec name="FO30">
        <change id="fn-round">Add fn:round#2 overload</change>
        <change id="fn-string-join" owner="Mike Kay">Add fn:string-join#1 overload</change>
        <change id="fn-format-date">Move fn:format-date from XSLT</change>
        <change id="fn-format-dateTime">Move fn:format-dateTime from XSLT</change>
        <change id="fn-format-time">Move fn:format-time from XSLT</change>
        <change id="fn-format-number">Move fn:format-number from XSLT</change>
        <change id="fn-generate-id">Move fn:generate-id from XSLT</change>
        <change id="fn-unparsed-text">Move fn:unparsed-text from XSLT</change>
        <change id="fn-unparsed-text-available">Move fn:unparsed-text-available from XSLT</change>
        <change id="fn-unparsed-text-lines">Add fn:unparsed-text-lines</change>
        <change id="fn-format-integer">Add fn:format-integer</change>
        <change id="math-pi">Add math:pi function</change>
        <change id="math-exp">Add math:exp function</change>
        <change id="math-exp10">Add math:exp10 function</change>
        <change id="math-log">Add math:log function</change>
        <change id="math-log10">Add math:log10 function</change>
        <change id="math-pow">Add math:pow function</change>
        <change id="math-sqrt">Add math:sqrt function</change>
        <change id="math-sin">Add math:sin function</change>
        <change id="math-cos">Add math:cos function</change>
        <change id="math-tan">Add math:tan function</change>
        <change id="math-asin">Add math:asin function</change>
        <change id="math-acos">Add math:acos function</change>
        <change id="math-atan">Add math:atan function</change>
        <change id="math-atan2">Add math:atan2 function</change>
        <change id="fn-parse-xml">Add fn:parse-xml function</change>
        <change id="fn-parse-xml-fragment">Add fn:parse-xml-fragment function</change>
        <change id="fn-serialize">Add fn:serialize function</change>
        <change id="fn-analyze-string">Add fn:analyze-string function</change>
        <change id="fn-for-each">Add fn:for-each function</change>
        <change id="fn-filter">Add fn:filter function</change>
        <change id="fn-for-each-pair">Add fn:map-pair function</change>
        <change id="fn-fold-left">Add fn:fold-left function</change>
        <change id="fn-fold-right">Add fn:fold-right function</change>
        <change id="fn-error" owner="Ghislain Fourny">Change rules for fn:error in the light of try/catch</change>
        <change id="fn-head">Add fn:head function</change>
        <change id="fn-tail">Add fn:tail function</change>
        <change id="fn-data" owner="Mike Kay">Add fn:data#0 overload</change>
        <change id="fn-document-uri" owner="Liam Quin">Add fn:document-uri#0 overload</change>
        <change id="fn-node-name" owner="Zhen Hua Liu">Add fn:node-name#0 overload</change>
        <change id="fn-base-uri" owner="Liam Quin">Add fn:base-uri#0 overload</change>
        <change id="fn-nilled" owner="Mike Kay">Add fn:nilled#0 overload</change>
        <change id="fn-uri-collection" owner="Josh Spiegel">Add fn:uri-collection function</change>
        <change id="fn-has-children">Add fn:has-children function</change>
        <change id="fn-innermost">Add fn:innermost function</change>
        <change id="fn-outermost">Add fn:outermost function</change>
        <change id="fn-path">Add fn:path function</change>
        <change id="fn-resolve-uri" owner="Norman Walsh">Change rules for fn:resolve-uri function</change>
        <change id="fn-available-environment-variables">Add fn:available-environment-variables function</change>
        <change id="fn-environment-variable">Ann fn:environment-variable function</change>
        <change id="fn-collection" owner="Josh Spiegel">Change error codes returned by fn:collection</change>
        <change id="fn-function-name">Add fn:function-name function</change>
        <change id="fn-function-lookup">Add fn:function-lookup function</change>
        <change id="fn-function-arity">Add fn:function-arity function</change>
        <change id="fn-namespace-uri-for-prefix" ref="Bug 11590 / 12553" owner="josh Spiegel">Change fn:namespace-uri-for-prefix to return empty sequence if prefix="" or () and there is no default namespace</change>
        <change id="regex-non-capturing" owner="Tim Mills">Add regex non-capturing groups</change>
        <change id="regex-q-flag" owner="Tim Mills">Add q flag to regex functions</change>
        <change id="regex-dot-matching-cr" owner="Tim Mills">In regex, "." does not match CR</change>
        <change id="cast-to-qname" owner="O'Neil Delpratt">Allow casting from variable string to QName or NOTATION</change>
        <change id="cast-to-union">Allow casting to a union type</change>
        <change id="cast-to-list">Allow casting from string to a list type</change>        
    </spec>
    <spec name="SE30">
        <change id="html-output" owner="Henry Zongaro">HTML output method including HTML5</change>
        <change id="xml-xhtml-output" owner="Andy Coleman">XML and XHTML output methods</change>
    </spec>    
</changes>
